<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ‰</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <title>EVRYâ„¢days</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <section class="hero-section">
    <div class="floating-elements">
      <div class="confetti">ðŸŽ‰</div>
      <div class="confetti">ðŸŽˆ</div>
      <div class="confetti">ðŸŽ‚</div>
      <div class="confetti">âœ¨</div>
      <div class="confetti">ðŸŽŠ</div>
      <div class="confetti">ðŸŒŸ</div>
    </div>

    <div class="hero-content">
      <h1 class="logo">EVRYâ„¢days</h1>
      <p class="tagline">EVRYday is Your Birthday</p>

      <!-- Unified single paragraph -->
      <p class="description">
        Every single day you're here is a victory worth celebrating. EVRYâ„¢days transforms ordinary dates into extraordinary milestones, because life isn't just about birthdaysâ€”it's about recognizing the incredible journey of every day you've experienced. Plan your perfect celebration, find out what day you're on, choose your party package, and we'll ship everything to arrive on time for your special day.
      </p>

      <div class="age-calculator">
        <h3>ðŸŽ‚ Calculate Your Milestone!</h3>

        <div class="input-group">
          <label for="birthdate">Start Date:</label>
          <input type="date" id="birthdate" name="birthdate" />
        </div>

        <div class="input-group">
          <label for="partydate">Celebration Date:</label>
          <input type="date" id="partydate" name="partydate" />
        </div>

        <button class="calculate-btn" id="calcBtn">Get Started</button>

        <div class="age-result" id="ageResult">
          <div class="milestone-info" id="milestoneInfo"></div>
        </div>
      </div>
    </div>
  </section>

<script src="js/app.js"></script>
<script>
  // Prefill celebration date to today's UTC date
  (function prefillPartyDate() {
    const party = document.getElementById('partydate');
    if (party && !party.value) {
      const now = new Date();
      const yyyy = now.getUTCFullYear();
      const mm = String(now.getUTCMonth() + 1).padStart(2,'0');
      const dd = String(now.getUTCDate()).padStart(2,'0');
      party.value = `${yyyy}-${mm}-${dd}`;
    }
  })();

  // Parallax confetti
  window.addEventListener('mousemove', (e) => {
    const confetti = document.querySelectorAll('.confetti');
    const mouseX = e.clientX / window.innerWidth;
    const mouseY = e.clientY / window.innerHeight;
    confetti.forEach((el, i) => {
      const speed = (i + 1) * 0.02;
      el.style.transform = `translate(${(mouseX - 0.5) * speed * 100}px, ${(mouseY - 0.5) * speed * 100}px)`;
    });
  });

  // Button click: validate â†’ save â†’ go
  (function wireGetStarted() {
    const btn = document.getElementById('calcBtn');
    const birthEl = document.getElementById('birthdate');
    const partyEl = document.getElementById('partydate');
    const info = document.getElementById('milestoneInfo');
    const box = document.getElementById('ageResult');

    if (!btn) return;

    btn.addEventListener('click', () => {
      // Clear message box each click
      if (box) box.style.display = 'none';
      if (info) info.textContent = '';

      // Require a birth date to compute day count
      if (!birthEl.value) {
        if (info) info.textContent = 'Please enter your birth date.';
        if (box) box.style.display = 'block';
        birthEl.focus();
        return;
      }

      const partyStr = partyEl.value || new Date().toISOString().split('T')[0];
      const birth = toUTCDate(birthEl.value);
      const party = toUTCDate(partyStr);

      if (isNaN(birth) || isNaN(party)) {
        if (info) info.textContent = 'Invalid date(s).';
        if (box) box.style.display = 'block';
        return;
      }

      if (party < birth) {
        if (info) info.textContent = 'Party date cannot be before birth date.';
        if (box) box.style.display = 'block';
        partyEl.focus();
        return;
      }

      const days = Math.floor((party - birth) / 86400000);
      const next = nextMilestone(days);

      if (info) {
        info.innerHTML = days === next.prev
          ? ''
          : `ðŸŽ¯ Next milestone: <strong>${next.name}</strong> (Day ${next.value.toLocaleString()}) in just ${(next.value - days).toLocaleString()} days!<br><em>But why wait? Every day is worth celebrating!</em>`;
      }
      if (box) box.style.display = 'block';

      // Save + go to products
      const celebrationData = {
        days,
        partyDate: partyEl.value,
        birthDate: birthEl.value
      };
      localStorage.setItem('celebrationData', JSON.stringify(celebrationData));
      window.location.href = 'products.html';
    });
  })();
</script>
</body>
</html>
